---
title: Magic Router
description: Learn how Magicblock's Magic Router accelerates transactions by routing them to the right execution environment.
---

import Endpoints from "/snippets/endpoints.mdx";

<div
  style={{
    position: "relative",
    paddingBottom: "56.25%",
    height: 0,
    overflow: "hidden",
  }}
>
  <iframe
    src="https://www.youtube.com/embed/Wc2XMAKtEug?si=bjitIDG7w5fY5zmK&list=PLWR_ZQiGMS8mIe1kPZe8OfHIbhvZqaM8V"
    title="Why Build with MagicBlock? Solve Scaling & UX Pain Points with Ephemeral Rollups"
    style={{
      position: "absolute",
      top: 0,
      left: 0,
      width: "100%",
      height: "100%",
    }}
    frameBorder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowFullScreen
    referrerPolicy="strict-origin-when-cross-origin"
  />
</div>

**Magicblock's Magic Router** is an dynamic transaction routing engine that accelerates transactions by intelligently deciding where they should be executed — either on **Ephemeral Rollups** or **Solana** — based on transaction metadata.

This removes the complexity of infrastructure decisions from the developer’s workflow, enabling seamless user experiences across different execution environments.

<Tip>
  {" "}
  Try out a demo of the Magic Router [here](https://router-demo.magicblock.app/)
  or explore our Pyth price data demo [here](https://pyth-template.magicblock.app/)
</Tip>

---

## **Dynamic Transaction Routing**

<img height="200" src="/images/magic-router.png" />
<Card>
  User transactions are submitted **without modification** and are
  **transparently executed**. A [**specialized RPC
  provider**](pages/ephemeral-rollups-ers/introduction/magic-router) routes
  transactions to base layer or ER dynamically based on metadata.
</Card>

The Magic Router analyzes each transaction’s metadata (e.g. writable accounts, owner, and signer) and automatically routes it to the closest dedicated endpoint:

- **Ephemeral Rollup** for fast, low-latency, zero-cost execution
- **Solana** for persistent, high-throughput execution

This eliminates the need for manual routing logic from the developer, providing significant benefits in transaction speed and development experience.

- ✅ **Simple Integration with Single Endpoint**: Just connect to a single RPC endpoint.
- ✅ **Seamless Wallet Experience**: Connect, sign, and submit — no need to know what’s happening behind the scenes.
- ✅ **Faster Confirmations**: Magic Router routes to the fastest available endpoint.

### **How It Works**

<img height="200" src="/images/magic-router-scenarios.png" />

1. **Client - Transaction Submission**  
   The dApp or user sends a transaction to the Magic Router RPC endpoint.

2. **RPC - Metadata Inspection**  
   The Magic Router inspects the transaction metadata and checks the owner of writable accounts.

3. **Validator - Smart Routing and Execution**  
   Based on the metadata, the router determines whether to send it to:

   - **Ephemeral Rollup**
   - **Solana**

   The router sends the transaction to the right execution layer. Users just sign and submit — no extra steps needed.

<Endpoints />
