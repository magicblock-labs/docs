---
title: "Quickstart"
description: "Enable privacy in any Solana program state account through MagicBlock's ER and Trusted Execution Environment on Intel TDX."
---

import Endpoints from "/snippets/endpoints.mdx";
import Validators from "/snippets/validators.mdx";
import Construction from "/snippets/construction.mdx";
import Software from "/snippets/software.mdx";
import SolanaResources from "/snippets/solana-resources.mdx";

import WriteProgramCode from "/snippets/private-transfer-code/write-program.mdx";
import DelegateCode from "/snippets/private-transfer-code/delegate.mdx";
import RestrictCode from "/snippets/private-transfer-code/restrict.mdx";
import AuthorizeCode from "/snippets/private-transfer-code/authorize.mdx";
import TestCode from "/snippets/private-transfer-code/test.mdx";
import DelegationInfo from "/snippets/delegation-info.mdx";

import QuickAccessPER from "/snippets/quick-access-per.mdx";

---

<QuickAccessPER />

---

## Step-By-Step Guide

<Steps>
  <Step title={<a href="#1-write-program">Write your program</a>}>
    Write your Solana program as you normally.
  </Step>
  <Step title={<a href="#2-delegate">Add delegation hooks in your program</a>}>
    Add CPI hooks to delegate, commit and undelegate state accounts through
    Ephemeral Rollup sessions.
  </Step>
  <Step
    title={
      <a href="#3-restrict">
        Add restrictions through permission hooks in your program.
      </a>
    }
  >
    Add CPI hooks that create groups and permissions that enable restrictions
    for specific delegated accounts.
  </Step>
  <Step title={<a href="#4-deploy">Deploy your program on Solana</a>}>
    Deploy your Solana program using Anchor CLI.
  </Step>
  <Step
    title={<a href="#5-authorize">Implement authorization in your client</a>}
  >
    Sign user message to retrieve authorization token from TEE endpoint.
  </Step>
  <Step title={<a href="#6-test">Execute transactions and test privacy</a>}>
    Request for authorization token and send confidential transactions.
  </Step>
</Steps>

---

## Private Transfer Example

<img
  src="/images/gifs/private-transfer-short-2x-420w.gif"
  alt="Private Transfer GIF"
  style={{
    width: "100%",
    maxWidth: "420px",
    height: "auto",
    objectFit: "contain",
    borderRadius: "8px",
  }}
/>

<Software />

### Code Snippets

<Tabs>
    <Tab title="1. Write program">
        A simple transfer program where tokens are tracked through deposit accounts, and locked in a vault account:
        <WriteProgramCode />
        [⬆️ Back to Top](#code-snippets)
    </Tab>
    <Tab title="2. Delegate">
        <DelegationInfo />
        Specify your preferred delegation config such as auto commits and specific ER validator:
        <Validators />
        <DelegateCode />
        [⬆️ Back to Top](#code-snippets)
    </Tab>
    <Tab title="3. Restrict">
        Create groups of users and define permissions for state accounts to restrict access:
        <RestrictCode />
        [⬆️ Back to Top](#code-snippets)
    </Tab>
    <Tab title="4. Deploy">
        Now you’re program is upgraded and ready! Build and deploy to the desired cluster:
        ```bash
          anchor build && anchor deploy
        ```
        [⬆️ Back to Top](#code-snippets)
    </Tab>
    <Tab title="5. Authorize">
        Request an authorization token for user to interact with TEE endpoint:
        <AuthorizeCode />
        [⬆️ Back to Top](#code-snippets)
    </Tab>
    <Tab title="6. Test">
        <Construction />
        [⬆️ Back to Top](#code-snippets)
    </Tab>

</Tabs>

---

<SolanaResources />

---

## MagicBlock Products

import ProductCards from "/snippets/product-cards.mdx";

<ProductCards />

---
