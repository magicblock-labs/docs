---
title: "Quickstart"
description: "Enable privacy in any Solana program state account through MagicBlock's ER and Trusted Execution Environment on Intel TDX."
---

import Endpoints from "/snippets/endpoints.mdx";
import Validators from "/snippets/validators.mdx";
import Construction from "/snippets/construction.mdx";
import Software from "/snippets/software.mdx";
import ExplorerCards from "/snippets/explorer-cards.mdx";
import RpcCards from "/snippets/rpc-cards.mdx";
import ValidatorCards from "/snippets/validator-cards.mdx";
import ServerStatusCards from "/snippets/serverstatus-cards.mdx";

import WriteProgramCode from "/snippets/private-transfer-code/write-program.mdx";
import DelegateCode from "/snippets/private-transfer-code/delegate.mdx";
import RestrictCode from "/snippets/private-transfer-code/restrict.mdx";
import AuthorizeCode from "/snippets/private-transfer-code/authorize.mdx";
import TestCode from "/snippets/private-transfer-code/test.mdx";
import DelegationInfo from "/snippets/delegation-info.mdx";

---

## Step-By-Step Guide

<Steps>
  <Step title={<a href="#1-write-program">Write your program</a>}>
    Write your Solana program as you normally.
  </Step>
  <Step title={<a href="#2-delegate">Add delegation hooks in your program</a>}>
    Add CPI hooks to delegate, commit and undelegate state accounts through
    Ephemeral Rollup sessions.
  </Step>
  <Step
    title={
      <a href="#3-restrict">
        Add restrictions through permission hooks in your program.
      </a>
    }
  >
    Add CPI hooks that create groups and permissions that enable restrictions
    for specific delegated accounts.
  </Step>
  <Step title={<a href="#4-deploy">Deploy your program on Solana</a>}>
    Deploy your Solana program using Anchor CLI.
  </Step>
  <Step
    title={<a href="#5-authorize">Implement authorization in your client</a>}
  >
    Sign user message to retrieve authorization token from TEE endpoint.
  </Step>
  <Step title={<a href="#6-test">Execute transactions and test privacy</a>}>
    Request for authorization token and send confidential transactions.
  </Step>
</Steps>

---

## Private Transfer Example

<img
  src="/images/gifs/private-transfer-short-2x-420w.gif"
  alt="Private Transfer GIF"
  style={{
    maxWidth: "420px",
    maxHeight: "420px",
    objectFit: "contain",
    borderRadius: "8px",
  }}
/>

<Software />

### Quick Access

Find the full private transfer example with Anchor framework and client implementation:

<CardGroup cols={2}>
  <Card
    title="Private Transfer Repo"
    icon="github"
    href="https://github.com/magicblock-labs/private-payments-demo"
    iconType="duotone"
  >
    Full repo for TEE Private Transfer including program and frontend
  </Card>
  <Card
    title="Private Transfer dApp"
    icon="shield-check"
    href="https://private-payments.magicblock.app"
    iconType="duotone"
  >
    Make private transfers
  </Card>
</CardGroup>

### Code Snippets

<Tabs>
    <Tab title="1. Write program">
        A simple transfer program where tokens are tracked through deposit accounts, and locked in a vault account:
        <WriteProgramCode />
        [⬆️ Back to Top](#code-snippets)
    </Tab>
    <Tab title="2. Delegate">
        <DelegationInfo />
        Specify your preferred delegation config such as auto commits and specific ER validator:
        <Validators />
        <DelegateCode />
        [⬆️ Back to Top](#code-snippets)
    </Tab>
    <Tab title="3. Restrict">
        Create groups of users and define permissions for state accounts to restrict access:
        <RestrictCode />
        [⬆️ Back to Top](#code-snippets)
    </Tab>
    <Tab title="4. Deploy">
        Now you’re program is upgraded and ready! Build and deploy to the desired cluster:
        ```bash
          anchor build && anchor deploy
        ```
        [⬆️ Back to Top](#code-snippets)
    </Tab>
    <Tab title="5. Authorize">
        Request an authorization token for user to interact with TEE endpoint:
        <AuthorizeCode />
        [⬆️ Back to Top](#code-snippets)
    </Tab>
    <Tab title="6. Test">
        <Construction />
        [⬆️ Back to Top](#code-snippets)
    </Tab>

</Tabs>

---

## Solana Explorer

Get insights about your transactions and accounts on Solana:

<ExplorerCards />

## Solana RPC Providers

Send transactions and requests through existing RPC providers:

<RpcCards />

## Solana Validator Dashboard

Find real-time updates on Solana's validator infrastructure:

<ValidatorCards />

## Server Status Subscriptions

Subscribe to Solana's and MagicBlock's server status:

<ServerStatusCards />

---
